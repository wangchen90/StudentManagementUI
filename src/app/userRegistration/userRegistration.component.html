


<div class="container">
  <form [formGroup]="registerForm" (ngSubmit)="onregister()" class="login">
    <div class="border rounded p-5">
      <h3 class="text-center">Register</h3>
      <label for="inputname" class="mt-3">UserName</label>
      <input
        class="form-control"
        type="text"
        placeholder="input"
        aria-label=" input example"
        formControlName="username"
        autocomplete="username"
      />
      <!-- Display validation error message -->
      <div
        *ngIf="
          !registerForm.get('username')?.valid &&
          (registerForm.get('username')?.dirty ||
            registerForm.get('username')?.touched)
        "
      >
        <div *ngIf="registerForm.get('username')?.errors?.['required']">
          <small class="text-danger">Username is required</small>
        </div>
      </div>
      <div class="form-group row" formGroupName="passwords">
        <div class="form-group">
          <label for="inputPassword5" class="form-label mt-3">Password</label>
          <input
            type="password"
            id="inputPassword5"
            class="form-control"
            aria-describedby="passwordHelpBlock"
            formControlName="password"
            autocomplete="password"
          />
        </div>
        <div
          *ngIf="
            !registerForm.get('password')?.valid &&
            (registerForm.get('password')?.dirty ||
              registerForm.get('password')?.touched)
          "
        >
          <div *ngIf="registerForm.get('password')?.errors?.['required']">
            <small class="text-danger">Password is required</small>
          </div>
        </div>
        <div class="form-group">
          <label for="inputPassword5" class="form-label mt-3"
            >Confirm Password</label
          >
          <input
            type="password"
            id="confirmPassword"
            class="form-control"
            aria-describedby="passwordHelpBlock"
            formControlName="confirmpassword"
            autocomplete="confirmpassword"
          />

          <div
            *ngIf="
              !registerForm.get('confirmpassword')?.valid &&
              (registerForm.get('confirmpassword')?.dirty ||
                registerForm.get('confirmpassword')?.touched)
            "
          >
            <div
              *ngIf="registerForm.get('confirmpassword')?.errors?.['required']"
            >
              <small class="text-danger">Confirm Password is required</small>
            </div>
          </div>

          <div
            style="color: #ff7355"
            *ngIf="
              registerForm.get(['passwords', 'password'])?.value !=
                registerForm.get(['passwords', 'confirmpassword'])?.value &&
              registerForm.get(['passwords', 'confirmpassword'])?.value != null
            "
          >
            Password should match
          </div>
        </div>
      </div>
      <button type="submit" class="btn btn-primary mt-4 ms-3" 
      [disabled]="!registerForm.get('username')?.valid" 
      [disabled]="!registerForm.get('password')?.valid"
      [disabled]="!registerForm.get('confirmpassword')?.valid"
       >Register</button>
      <!-- <button  (click)="onregister()" type="submit" class="btn btn-primary mt-4 ms-3"
       [disabled]="!registerForm.valid">Register</button> -->
    </div>
  </form>
</div>